<div class="dashboard-container">
  <!-- Page Header -->
  <div class="page-header glass-header d-flex justify-content-between">
    <div class="header-content">
      <div class="brand-badge">NTX Platform</div>
      <h1 class="page-title">Enterprise Dashboard</h1>
      <p class="page-subtitle">
        Welcome back, <span class="user-highlight">{{ user()?.fullName }}</span>
      </p>
    </div>
    <div class="header-actions">
      <button mat-flat-button class="btn-primary-gradient" [routerLink]="['/tickets']">
        <mat-icon>confirmation_number</mat-icon>
        Support Tickets
      </button>
      <button mat-flat-button class="btn-secondary" [routerLink]="['/clients']">
        <mat-icon>group_add</mat-icon>
        Clients
      </button>
      <div class="header-divider"></div>
      <button mat-button class="btn-logout" (click)="logout()">
        <mat-icon>logout</mat-icon>
        Sign Out
      </button>
    </div>
  </div>

  <!-- KPI Cards -->
  <div class="stats">
    <div class="stat-card clients">
      <div class="stat-icon-wrapper">
        <mat-icon>groups</mat-icon>
      </div>
      <div class="stat-content">
        <div class="stat-value">{{ totals().clients }}</div>
        <div class="stat-label">Total Clients</div>
      </div>
      <div class="stat-decorator"></div>
    </div>

    <div class="stat-card pending">
      <div class="stat-icon-wrapper">
        <mat-icon>hourglass_empty</mat-icon>
      </div>
      <div class="stat-content">
        <div class="stat-value">{{ totals().pending }}</div>
        <div class="stat-label">Pending Tickets</div>
      </div>
      <div class="stat-decorator"></div>
    </div>

    <div class="stat-card assigned">
      <div class="stat-icon-wrapper">
        <mat-icon>assignment_ind</mat-icon>
      </div>
      <div class="stat-content">
        <div class="stat-value">{{ totals().assigned }}</div>
        <div class="stat-label">Assigned Tickets</div>
      </div>
      <div class="stat-decorator"></div>
    </div>

    <div class="stat-card closed">
      <div class="stat-icon-wrapper">
        <mat-icon>check_circle</mat-icon>
      </div>
      <div class="stat-content">
        <div class="stat-value">{{ totals().closed }}</div>
        <div class="stat-label">Closed Tickets</div>
      </div>
      <div class="stat-decorator"></div>
    </div>

    <!-- Renewal KPI (Expiring Soon) -->
    <div class="stat-card renewal hvr-grow" routerLink="/renewal">
      <div class="stat-icon-wrapper">
        <mat-icon>update</mat-icon>
      </div>
      <div class="stat-content">
        <div class="stat-value">{{ totals().renewals }}</div>
        <div class="stat-label">Expiring Soon (30 Days)</div>
      </div>
      <div class="stat-decorator"></div>
    </div>

    <div class="stat-card expired hvr-grow" routerLink="/renewal">
      <div class="stat-icon-wrapper">
        <mat-icon>warning</mat-icon>
      </div>
      <div class="stat-content">
        <div class="stat-value">{{ totals().expired }}</div>
        <div class="stat-label">Expired Products</div>
      </div>
      <div class="stat-decorator"></div>
    </div>

    <!-- Support Team Management (Super Admin only) -->
    <div
      class="stat-card support-manage hvr-grow"
      routerLink="/support"
      *ngIf="user()?.role === 'SuperAdmin'"
    >
      <div class="stat-icon-wrapper">
        <mat-icon>manage_accounts</mat-icon>
      </div>
      <div class="stat-content">
        <div class="stat-value">Support</div>
        <div class="stat-label">Team & Activities</div>
      </div>
      <div class="stat-decorator"></div>
    </div>
  </div>
  <!-- Renewal Products Section -->
  <!-- <div #renewalSection>
    <app-renewal-products></app-renewal-products>
  </div> -->

  <!-- clients table -->
  <app-clients-table-component></app-clients-table-component>
</div>
