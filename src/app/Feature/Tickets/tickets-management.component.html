<header class="tickets__header">
  <h2 class="tickets__title">Tickets Management</h2>

  <button
    mat-stroked-button
    color="primary"
    class="tickets__back"
    routerLink="/dashboard"
    type="button"
  >
    <mat-icon aria-hidden="true">arrow_back</mat-icon>
    <span>Back to Dashboard</span>
  </button>
</header>

<section class="tickets__layout container-fluid" aria-label="Tickets layout">
  <div class="row h-100">
    <!-- Filters (col-3) -->
    <div class="col-md-3 h-100">
      <aside class="tickets__panel tickets__panel--filters" aria-label="Ticket filters">
        <app-ticket-filters (filterChange)="updateFilters($event)"></app-ticket-filters>
      </aside>
    </div>

    <!-- List (col-3) -->
    <div class="col-md-3 h-100">
      <aside class="tickets__panel tickets__panel--list" aria-label="Ticket list">
        <app-ticket-list-sidebar
          [tickets]="filteredTickets()"
          [selectedId]="selectedTicketId()"
          [currentPage]="currentPage()"
          [hasNextPage]="hasNextPage()"
          [hasPreviousPage]="hasPreviousPage()"
          (select)="selectTicket($event)"
          (pageChange)="onPageChange($event)"
        />
      </aside>
    </div>

    <!-- Details (col-6) -->
    <div class="col-md-6 h-100">
      <main class="tickets__panel tickets__panel--details" aria-label="Ticket details">
        <app-ticket-details
          [ticket]="selectedTicket()"
          (sendMessage)="onSendMessage($event)"
          (resolve)="onResolveTicket($event)"
        />
      </main>
    </div>
  </div>
</section>
