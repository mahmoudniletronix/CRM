<div class="tickets-header-card glass-header d-flex justify-content-between align-items-center">
  <div class="header-left">
    <div class="brand-badge">Service Desk</div>
    <h2 class="tickets__title">Niletronix Support Central</h2>
  </div>

  <div class="header-right d-flex gap-3">
    <button
      mat-flat-button
      class="btn-primary-gradient"
      routerLink="/dashboard"
      type="button"
      *ngIf="user()?.role === 'SuperAdmin'"
    >
      <mat-icon aria-hidden="true">dashboard</mat-icon>
      <span>Admin Dashboard</span>
    </button>

    <button mat-flat-button class="btn-logout" (click)="logout()" type="button">
      <mat-icon aria-hidden="true">logout</mat-icon>
      <span>{{ user()?.role === 'SupportTeam' ? 'Exit System' : 'Sign Out' }}</span>
    </button>
  </div>
</div>

<section class="tickets__layout container-fluid" aria-label="Tickets layout">
  <div class="row h-100">
    <!-- Filters (col-3) -->
    <div class="col-md-3 h-100">
      <aside class="tickets__panel tickets__panel--filters" aria-label="Ticket filters">
        <app-ticket-filters (filterChange)="updateFilters($event)"></app-ticket-filters>
      </aside>
    </div>

    <!-- List (col-3) -->
    <div class="col-md-3 h-100">
      <aside class="tickets__panel tickets__panel--list" aria-label="Ticket list">
        <app-ticket-list-sidebar
          [tickets]="filteredTickets()"
          [selectedId]="selectedTicketId()"
          [currentPage]="currentPage()"
          [hasNextPage]="hasNextPage()"
          [hasPreviousPage]="hasPreviousPage()"
          (select)="selectTicket($event)"
          (pageChange)="onPageChange($event)"
        />
      </aside>
    </div>

    <!-- Details (col-6) -->
    <div class="col-md-6 h-100">
      <main class="tickets__panel tickets__panel--details" aria-label="Ticket details">
        <app-ticket-details
          [ticket]="selectedTicket()"
          (sendMessage)="onSendMessage($event)"
          (resolve)="onResolveTicket($event)"
        />
      </main>
    </div>
  </div>
</section>
